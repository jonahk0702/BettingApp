{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jonah\\\\Desktop\\\\school\\\\BettingApp\\\\src\\\\components\\\\myGroups\\\\Groups.js\";\nimport React, { Component } from \"react\";\nimport { Container, Row, Col, Form, Button } from \"react-bootstrap\";\nimport NavbarIn from \"../navbar/NavbarIn\";\nimport IndividualGroup from './IndividualGroup';\nlet name = \"\";\nlet subject = \"\";\nlet potCode = \"\";\nlet joinError;\nlet joinSucces = \" \";\nlet Holder = React.createElement(\"div\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11\n  },\n  __self: this\n}, React.createElement(IndividualGroup, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11\n  },\n  __self: this\n}));\nlet createError = \"\";\nlet createSuccess = \"\";\nlet myGroupArray = React.createElement(\"div\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 14\n  },\n  __self: this\n});\nlet rightSide = React.createElement(\"div\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15\n  },\n  __self: this\n});\n\nclass Groups extends Component {\n  constructor(props) {\n    super(props);\n\n    this.changeRoute = name => {\n      this.props.changeRoute(name);\n    };\n\n    this.unloadUser = () => {\n      this.props.unloadUser();\n    };\n\n    this.create = () => {\n      if (name !== \"\" && subject !== \"\") {\n        if (name.length > 20) {\n          //Check this!!\n          createError = \"Please enter a shorter name\";\n          createSuccess = \"\";\n        } else {\n          if (subject.length > 49) {\n            createError = 'Please enter a shorter subject';\n            createSuccess = \"\";\n          } else {\n            this.createId();\n            createError = \"\";\n          }\n        }\n      } else {\n        createError = \"You must fill all fields.\";\n        createSuccess = \"\";\n      }\n\n      this.setState({\n        a: this.state.a + 1\n      });\n    };\n\n    this.commit = id => {\n      fetch('http://localhost:3000/makeGroup', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          id: id,\n          name: name,\n          subject: subject,\n          userid: this.props.userId\n        })\n      }).then(response => response.json()).then(user => {\n        if (user === \"Success\") {\n          window.scrollTo(0, 0);\n          this.getGroups(this.props.userId);\n          createSuccess = \"Group Successfully Created\";\n          this.setState({\n            a: this.state.a + 1\n          });\n        }\n\n        if (user === \"Too many\") {\n          createError = \"You are a part of the maximum amount of groups. Consider leaving one.\";\n        }\n      });\n\n      if (this.state.c === '1') {\n        this.setState({\n          c: '2'\n        });\n      } else {\n        this.setState({\n          c: '1'\n        });\n      }\n    };\n\n    this.handleChange = newer => {\n      name = newer.target.value.toLowerCase();\n    };\n\n    this.handleChangeSubject = newer => {\n      subject = newer.target.value.toLowerCase();\n    };\n\n    this.handleChangeCode = newer => {\n      potCode = newer.target.value;\n    };\n\n    this.join = () => {\n      console.log(\"start 1\");\n      fetch('http://localhost:3000/joinGroup', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          userid: this.props.userId,\n          code: potCode\n        })\n      }).then(response => response.json()).then(user => {\n        console.log(user);\n\n        if (user === 'Already in') {\n          joinError = \"You have already joined this group.\";\n        }\n\n        if (user === 'Success') {\n          joinSucces = \"success\";\n          joinError = \"\";\n          this.getGroups(this.props.userId);\n          this.setState({\n            b: 155\n          });\n        }\n      });\n    };\n\n    this.setRight = () => {\n      rightSide = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"i pointer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Join a group\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"f4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Join a group by simply entering the groups code. Note, the code is case sensitive.\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }), React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(Form.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Group Code: \", React.createElement(\"b\", {\n        className: \"red f3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      })), React.createElement(Col, {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(Form.Control, {\n        onChange: this.handleChangeCode,\n        placeholder: \"XXXXXXX\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }))))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }), React.createElement(Button, {\n        className: \"pa5\",\n        variant: \"outline-secondary\",\n        size: \"lg\",\n        block: true,\n        onClick: this.tryJoin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"Join Group\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"red i f4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \" \", joinError, \" \"), React.createElement(\"span\", {\n        className: \"green i f4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \" \", joinSucces), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"f4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"What is a group?\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), \"If you do not want a bet to be open to every user, you can create a bet that is only avaliable to a group. You can control who is in each group by only giving the group code to people you want in the group.\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }), \"Each normal user will be able to join up to 10 groups. If you want to join more groups, please consider getting premium.\"));\n      this.setState({\n        a: this.state.a + 1\n      });\n    };\n\n    this.leave = () => {};\n\n    this.refresh = (id, name, subject) => {\n      //  window.scrollTo(0, 0); \n      //  let name = \"\";\n      //console.log(id);\n      //let subject = \"\";\n      // for(let i = 0; i < myGroupArray.length; i ++){\n      //   if(myGroupArray[i].id === id){\n      //     name = myGroupArray[i].name;\n      //     subject = myGroupArray[i].subject;\n      //   }\n      // }\n      rightSide = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"i pointer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, \"Group Infomation\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"f4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"Group Name: \", name, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }), \"Group subject: \", subject, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }), \"Join code: \", id), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }), \"Are you sure? Although the members will not be notified, your name will no longer appear on the members list.\", React.createElement(Button, {\n        className: \"ma2\",\n        variant: \"outline-secondary\",\n        size: \"lg\",\n        block: true,\n        onClick: this.leave,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, \"Leave Group\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }), React.createElement(Button, {\n        className: \"ma2\",\n        variant: \"outline-secondary\",\n        size: \"lg\",\n        block: true,\n        onClick: this.setRight,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, \"Back\"));\n      this.setState({\n        a: this.state.a + 1\n      });\n    };\n\n    this.getGroups = id => {\n      fetch('http://localhost:3000/getGroups', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          id: id\n        })\n      }).then(response => response.json()).then(data => {\n        Holder = data.map((user, i) => {\n          return React.createElement(IndividualGroup, {\n            key: i,\n            name: data[i].name,\n            amount: data[i].size,\n            refresh: this.refresh,\n            code: data[i].id,\n            subject: data[i].subject,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 226\n            },\n            __self: this\n          });\n        });\n\n        if (this.state.b === '1') {\n          this.setState({\n            b: '2'\n          });\n        } else {\n          this.setState({\n            b: '1'\n          });\n        }\n      });\n    };\n\n    this.createId = () => {\n      let id = \"\";\n\n      for (let a = 0; a < 5; a++) {\n        id += this.generate();\n      }\n\n      fetch('http://localhost:3000/checkId', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          id: id,\n          table: 'groups'\n        })\n      }).then(response => response.json()).then(user => {\n        if (user !== 'Good') {\n          this.redo();\n        } else {\n          this.commit(id);\n        }\n      });\n    };\n\n    this.tryJoin = () => {\n      if (potCode !== \"\") {\n        if (potCode.length === 5) {\n          fetch('http://localhost:3000/checkId', {\n            method: 'post',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              id: potCode,\n              table: 'groups'\n            })\n          }).then(response => response.json()).then(user => {\n            if (user === 'Good') {\n              joinError = \"Incorrect code\";\n              this.setState({\n                a: this.state.a + 1\n              });\n            } else {\n              this.join();\n            }\n          });\n        } else {\n          joinError = \"Incorrect code\";\n          this.setState({\n            a: this.state.a + 1\n          });\n        }\n      }\n\n      this.setState({\n        a: this.state.a + 1\n      });\n    };\n\n    this.generate = () => {\n      const first = Math.round(Math.random() * 64);\n      let a;\n\n      if (first < 10) {\n        a = String.fromCharCode(first + 48);\n      }\n\n      if (first > 9 && first < 38) {\n        a = String.fromCharCode(first + 53);\n      }\n\n      if (first > 37 && first < 64) {\n        a = String.fromCharCode(first + 59);\n      }\n\n      return a;\n    };\n\n    this.redo = () => {\n      this.createId();\n    };\n\n    this.state = {\n      a: 1,\n      b: 3\n    };\n  }\n\n  componentDidMount() {\n    this.getGroups(this.props.userId);\n    this.setRight();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, React.createElement(NavbarIn, {\n      changeRoute: this.changeRoute,\n      unloadUser: this.unloadUser,\n      userId: this.props.userId,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }), React.createElement(\"h1\", {\n      className: \"tc i f1 font white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }, \"My Groups\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }), React.createElement(Container, {\n      className: \"tc f3 solidBR\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"pa3 ma3 ba\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      className: \"i pointer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, \"My Groups\"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }), React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }, \"Name\"), React.createElement(Col, {\n      xs: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }, \"users\"))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, Holder)), React.createElement(Col, {\n      className: \"pa3 ma3 ba\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348\n      },\n      __self: this\n    }), rightSide)), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"pa3 ma3 ba\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"i pointer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354\n      },\n      __self: this\n    }, \"Create a group\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }), React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"pa3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    }, React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362\n      },\n      __self: this\n    }, \"Group name: \", React.createElement(\"b\", {\n      className: \"red f3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    })), React.createElement(Col, {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      onChange: this.handleChange,\n      placeholder: \"The A Team\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366\n      },\n      __self: this\n    })))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371\n      },\n      __self: this\n    })), React.createElement(Col, {\n      className: \"pa3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373\n      },\n      __self: this\n    }, React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376\n      },\n      __self: this\n    }, \"Subject: \", React.createElement(\"b\", {\n      className: \"red f3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377\n      },\n      __self: this\n    })), React.createElement(Col, {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      onChange: this.handleChangeSubject,\n      placeholder: \"Keep it short\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380\n      },\n      __self: this\n    }))))), React.createElement(Button, {\n      className: \"ma2\",\n      variant: \"outline-secondary\",\n      size: \"lg\",\n      block: true,\n      onClick: this.create,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386\n      },\n      __self: this\n    }, \"Create Group!\")), React.createElement(\"span\", {\n      className: \"red ma2 f4 i \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388\n      },\n      __self: this\n    }, createError), React.createElement(\"span\", {\n      className: \"green ma2 f4 i \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389\n      },\n      __self: this\n    }, createSuccess)), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"f6 black bt bb pa1\",\n      onClick: this.terms,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392\n      },\n      __self: this\n    }, \"Our Terms of Service and stuff\"))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Groups;","map":{"version":3,"sources":["C:\\Users\\Jonah\\Desktop\\school\\BettingApp\\src\\components\\myGroups\\Groups.js"],"names":["React","Component","Container","Row","Col","Form","Button","NavbarIn","IndividualGroup","name","subject","potCode","joinError","joinSucces","Holder","createError","createSuccess","myGroupArray","rightSide","Groups","constructor","props","changeRoute","unloadUser","create","length","createId","setState","a","state","commit","id","fetch","method","headers","body","JSON","stringify","userid","userId","then","response","json","user","window","scrollTo","getGroups","c","handleChange","newer","target","value","toLowerCase","handleChangeSubject","handleChangeCode","join","console","log","code","b","setRight","tryJoin","leave","refresh","data","map","i","size","generate","table","redo","first","Math","round","random","String","fromCharCode","componentDidMount","render","terms"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Container, Row, Col, Form, Button } from \"react-bootstrap\";\r\nimport NavbarIn from \"../navbar/NavbarIn\";\r\nimport IndividualGroup from './IndividualGroup';\r\n\r\nlet name = \"\";\r\nlet subject = \"\";\r\nlet potCode = \"\";\r\nlet joinError;\r\nlet joinSucces = \" \"; \r\nlet Holder = <div><IndividualGroup/></div>; \r\nlet createError = \"\";\r\nlet createSuccess = \"\";\r\nlet myGroupArray = <div></div>; \r\nlet rightSide = <div></div>;\r\nclass Groups extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      a:1,\r\n      b:3\r\n    }\r\n  }\r\n\r\n  changeRoute = (name) => { \r\n    this.props.changeRoute(name); \r\n    \r\n  }\r\n\r\n  unloadUser = () => {\r\n  this.props.unloadUser();\r\n}\r\ncreate = () => {\r\n  if(name !== \"\" && subject !== \"\"){\r\n    if(name.length >20){//Check this!!\r\n      createError = \"Please enter a shorter name\";\r\n      createSuccess = \"\";\r\n    }\r\n    else{\r\n      if(subject.length > 49){\r\n        createError = 'Please enter a shorter subject';\r\n        createSuccess = \"\";\r\n      }else{\r\n        this.createId();\r\n        createError = \"\";   \r\n      }\r\n    }\r\n  }\r\n  else{\r\n    createError = \"You must fill all fields.\";\r\n    createSuccess = \"\";\r\n  }\r\n  this.setState({a:this.state.a +1});\r\n}\r\n \r\ncommit = (id) => {\r\n  fetch('http://localhost:3000/makeGroup', {\r\n             method: 'post',\r\n             headers: {'Content-Type': 'application/json'},\r\n             body:JSON.stringify({\r\n               id: id,\r\n               name: name,\r\n               subject: subject,\r\n               userid: this.props.userId\r\n           })\r\n        })\r\n         .then(response => response.json())\r\n         .then(user => {\r\n          if(user === \"Success\"){            \r\n            window.scrollTo(0, 0); \r\n              this.getGroups(this.props.userId);\r\n            createSuccess = \"Group Successfully Created\";\r\n            this.setState({a:this.state.a +1});\r\n       }\r\n       if(user === \"Too many\"){\r\n        createError = \"You are a part of the maximum amount of groups. Consider leaving one.\";\r\n       }\r\n         \r\n         })\r\n          if(this.state.c === '1'){\r\n        this.setState({c:'2'});\r\n       }else{\r\n        this.setState({c: '1'});\r\n}\r\n\r\n       }\r\n\r\nhandleChange = (newer) => {\r\n  name = newer.target.value.toLowerCase();\r\n}\r\nhandleChangeSubject = (newer) => {\r\n  subject = newer.target.value.toLowerCase();\r\n}\r\nhandleChangeCode = (newer) => {\r\n  potCode = newer.target.value;\r\n}\r\ncomponentDidMount(){  \r\n  this.getGroups(this.props.userId);\r\n  this.setRight();\r\n}\r\n\r\n join = () => {\r\n  console.log(\"start 1\")\r\n    fetch('http://localhost:3000/joinGroup', {\r\n            method: 'post',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body:JSON.stringify({\r\n              userid: this.props.userId,\r\n              code:potCode,\r\n           })\r\n        })\r\n         .then(response => response.json())\r\n         .then(user => {\r\n          console.log(user)\r\n              if(user === 'Already in'){\r\n               \r\n                joinError = \"You have already joined this group.\";\r\n                \r\n              }\r\n              if(user === 'Success'){\r\n\r\n                joinSucces = \"success\";\r\n                joinError = \"\";\r\n                this.getGroups(this.props.userId);\r\n                this.setState({b:155});\r\n              \r\n              }\r\n\r\n         })   \r\n  }\r\n\r\nsetRight = () => {\r\nrightSide = <div>\r\n            <h3 className='i pointer'>Join a group</h3>\r\n            <hr/>\r\n            <br/>\r\n              <span className = 'f4'>\r\n              Join a group by simply entering the groups code. Note, the code is case sensitive.\r\n              <br/>\r\n               <Form>\r\n            <Form.Row>\r\n              <Col>\r\n                Group Code: <b className='red f3'></b>\r\n              </Col>\r\n              <Col className=''>\r\n                <Form.Control onChange={this.handleChangeCode} placeholder=\"XXXXXXX\" />\r\n              </Col>\r\n            </Form.Row>\r\n          </Form>\r\n          </span>\r\n          <br/>\r\n          <Button className='pa5' variant=\"outline-secondary\" size='lg' block onClick={this.tryJoin}>Join Group</Button>\r\n              <br/>\r\n              <span className='red i f4'> {joinError} </span>\r\n              <span className='green i f4'> {joinSucces}</span>\r\n              <hr/>\r\n              <span className='f4'>\r\n              What is a group?\r\n              <br/>\r\n              If you do not want a bet to be open to every user, you can create a bet that \r\n              is only avaliable to a group. You can control who is in each group by only giving \r\n              the group code to people you want in the group. \r\n              <br/>\r\n              Each normal user will be able to join up to 10 groups. If you want \r\n              to join more groups, please consider getting premium.   \r\n              </span>\r\n</div>;\r\nthis.setState({a:this.state.a +1});\r\n\r\n}\r\n\r\nleave = () => {\r\n\r\n}\r\n\r\n  refresh = (id, name, subject) => {\r\n//  window.scrollTo(0, 0); \r\n//  let name = \"\";\r\n  //console.log(id);\r\n  //let subject = \"\";\r\n  // for(let i = 0; i < myGroupArray.length; i ++){\r\n  //   if(myGroupArray[i].id === id){\r\n  //     name = myGroupArray[i].name;\r\n  //     subject = myGroupArray[i].subject;\r\n  //   }\r\n  // }\r\n  rightSide = <div>\r\n    <h3 className='i pointer'>Group Infomation</h3>\r\n            <hr/>\r\n            <br/>\r\n              <span className = 'f4'>\r\n              Group Name: {name}\r\n              <br/>\r\n              Group subject: {subject}\r\n              <br/>\r\n              Join code: {id}              \r\n              </span>\r\n              <br/>\r\n              <br/>\r\n              <hr/>\r\n              Are you sure? Although the members will not be notified, your name\r\n              will no longer appear on the members list.\r\n              <Button className='ma2' variant=\"outline-secondary\" size='lg' block onClick={this.leave}>Leave Group</Button>\r\n              <hr/>\r\n              <Button className='ma2' variant=\"outline-secondary\" size='lg' block onClick={this.setRight}>Back</Button>\r\n              \r\n \r\n\r\n  </div>\r\n  this.setState({a:this.state.a +1});\r\n}\r\n\r\ngetGroups = (id) => {\r\n\r\n  fetch('http://localhost:3000/getGroups', {\r\n       method: 'post', \r\n       headers: {'Content-Type': 'application/json'},\r\n       body: JSON.stringify({ \r\n        id: id \r\n       })\r\n      })    \r\n      .then(response => response.json())\r\n      .then(data => {\r\n\r\n        Holder = data.map((user, i) => { \r\n          return <IndividualGroup key={i} name={data[i].name} amount={data[i].size} \r\n                  refresh={this.refresh} code={data[i].id} subject={data[i].subject}\r\n                  />\r\n        })\r\n       if(this.state.b === '1'){\r\n        this.setState({b:'2'});\r\n       }else{\r\n        this.setState({b: '1'});\r\n}\r\n    });\r\n         \r\n    }\r\n\r\ncreateId = () => {\r\n    let id = \"\";\r\n    for(let a = 0; a < 5; a++){\r\n      id += this.generate();\r\n    }\r\n    fetch('http://localhost:3000/checkId', {\r\n            method: 'post',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body:JSON.stringify({\r\n              id: id,\r\n              table: 'groups'\r\n          })\r\n        })\r\n         .then(response => response.json())\r\n         .then(user => {\r\n            if(user !== 'Good'){\r\n                this.redo();\r\n            }else{\r\n              this.commit(id);\r\n            }\r\n         })\r\n\r\n  }\r\n\r\n  tryJoin = () => {\r\n    if(potCode !== \"\"){\r\n      if(potCode.length === 5){\r\n        fetch('http://localhost:3000/checkId', {\r\n            method: 'post',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body:JSON.stringify({\r\n              id: potCode,\r\n              table: 'groups'\r\n          })\r\n        }) \r\n        .then(response => response.json())\r\n        .then(user => {\r\n          if(user === 'Good'){  \r\n            joinError = \"Incorrect code\";            \r\n            this.setState({a:this.state.a +1});\r\n          }else{\r\n            this.join();\r\n          }\r\n       })\r\n    }else{\r\n      joinError = \"Incorrect code\";    \r\n       this.setState({a:this.state.a +1});\r\n      }\r\n    }\r\n     this.setState({a:this.state.a +1})\r\n  }\r\n\r\n \r\n\r\n  generate = () => {\r\n   const first = Math.round(Math.random() * 64);\r\n   let a;\r\n   if(first < 10){\r\n      a = String.fromCharCode(first + 48);\r\n   }\r\n   if(first > 9 && first < 38){\r\n      a = String.fromCharCode(first + 53);\r\n   }\r\n   if(first > 37 && first < 64){\r\n      a = String.fromCharCode(first + 59);\r\n   }\r\n   return a;\r\n  }\r\n\r\n  redo = () => {\r\n  this.createId();\r\n}\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>  \r\n        <NavbarIn changeRoute={this.changeRoute} unloadUser={this.unloadUser} userId={this.props.userId}/>\r\n         <br />\r\n        <br />\r\n        <h1 className=\"tc i f1 font white\">My Groups</h1>\r\n        <br />\r\n        \r\n\r\n        <Container className='tc f3 solidBR'>\r\n        <br/>\r\n\r\n          <Row>\r\n\r\n          <Col className='pa3 ma3 ba'>\r\n          <br/>\r\n            <h3 className='i pointer'>My Groups</h3>\r\n            <hr/>\r\n            <br/>\r\n            <Container>\r\n              <Row>\r\n                <Col md>\r\n                  Name \r\n                </Col>\r\n                <Col xs={3}>\r\n                  users\r\n                </Col>\r\n              </Row>\r\n            \r\n            </Container>\r\n            <Row>{Holder}</Row>           \r\n          </Col>       \r\n\r\n            <Col className='pa3 ma3 ba'>\r\n            <br/>\r\n            {rightSide}\r\n          </Col>\r\n          </Row>\r\n        <Row>\r\n          <Col className='pa3 ma3 ba'>\r\n            <h3 className='i pointer'>Create a group</h3>\r\n            <br/>\r\n            <hr/>\r\n          <Container>\r\n            <Row> \r\n              <Col className='pa3'>\r\n                <Form>\r\n            <Form.Row>\r\n              <Col>\r\n                Group name: <b className='red f3'></b>\r\n              </Col>\r\n              <Col className=''>\r\n                <Form.Control onChange={this.handleChange} placeholder=\"The A Team\" />\r\n              </Col>\r\n            </Form.Row>\r\n\r\n            </Form>\r\n            <br/>\r\n              </Col>\r\n              <Col className='pa3'>\r\n                <Form>\r\n            <Form.Row>\r\n              <Col>\r\n                Subject: <b className='red f3'></b>\r\n              </Col>\r\n              <Col className=''>\r\n                <Form.Control onChange={this.handleChangeSubject} placeholder=\"Keep it short\" />\r\n              </Col>\r\n            </Form.Row> \r\n\r\n          </Form>\r\n              </Col>\r\n                <Button className='ma2' variant=\"outline-secondary\" size='lg' block onClick={this.create}>Create Group!</Button>\r\n            </Row>\r\n            <span className='red ma2 f4 i '>{createError}</span>\r\n            <span className='green ma2 f4 i '>{createSuccess}</span>\r\n          </Container>\r\n          <br/>\r\n            <span className='f6 black bt bb pa1' onClick={this.terms}>Our Terms of Service and stuff</span>   \r\n          </Col>    \r\n          </Row> \r\n          <br/>\r\n        </Container>\r\n        <br/>\r\n        <br/>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Groups;"]},"metadata":{},"sourceType":"module"}